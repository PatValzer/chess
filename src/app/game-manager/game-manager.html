@let colorBlack = 'b';
@let colorWhite = 'w';

@if(breakpointService.isMobile()){

<div class="grid">
    <div class="w-full grid grid-cols-2"
        (click)="eatenPiecesColorShown.set( eatenPiecesColorShown() == 'w' ? 'b' : 'w' )">
        <app-count-down countDownColor="w" [style.background]="colorWhite | cellColorPipe : 0.8"></app-count-down>
        <app-count-down countDownColor="b" [style.background]="colorBlack | cellColorPipe : 0.7"></app-count-down>
    </div>
    <app-eaten-pieces [color]="eatenPiecesColorShown()"
        [style.background]="eatenPiecesColorShown() | cellColorPipe : 0.7"></app-eaten-pieces>
    <app-game-moves [horizontal]="true" />

</div>
}
@else {
<div class="grid max-h-[800px] grid-cols-1 float-right gap-2 grid-rows-[auto_400px_auto_auto]">

    <div [style.background]="colorBlack | cellColorPipe : 0.7">
        <app-eaten-pieces [color]="colorBlack"></app-eaten-pieces>
        <app-count-down [countDownColor]="colorBlack"></app-count-down>
    </div>
    <div>
        <mat-tab-group class="!h-full" mat-stretch-tabs="false" mat-align-tabs="start">
            <mat-tab label="Pgn">
                @if (gameManagerService.moves().length > 0) {
                <app-game-moves />
                }
            </mat-tab>
            <mat-tab label="Games explorer">
                <app-games-library />
            </mat-tab>
            <mat-tab label="Analysis">
                <app-game-analysis />
            </mat-tab>
            <mat-tab label="Load Game">
                <app-pgn-reader />
            </mat-tab>
        </mat-tab-group>
    </div>

    <app-game-navigator />

    <div [style.background]="colorWhite | cellColorPipe : 0.8">
        <app-count-down [countDownColor]="colorWhite"></app-count-down>
        <app-eaten-pieces [color]="colorWhite"></app-eaten-pieces>

    </div>
</div>
}

<ng-template #countdownTpl let-data>
    <div class="text-right text-[35px]">
        ‚è± {{data.text}}
    </div>
</ng-template>